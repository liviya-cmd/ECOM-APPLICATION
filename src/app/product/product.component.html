<app-header></app-header>
<app-sidebar></app-sidebar>
  <div class="product-container">
  <h2>Product List</h2>

  <form (ngSubmit)="addOrUpdateProduct()" #productForm="ngForm" class="product-form">
    <div class="form-group">
      <label for="name">Product Name</label>
      <input
        id="name"
        type="text"
        [(ngModel)]="newProduct.name"
        name="name"
        required
        placeholder="Enter product name"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="description">Product Description</label>
      <input
        id="description"
        type="text"
        [(ngModel)]="newProduct.description"
        name="description"
        required
        placeholder="Enter product description"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="price">Product Price</label>
      <input
        id="price"
        type="number"
        [(ngModel)]="newProduct.price"
        name="price"
        required
        placeholder="Enter product price"
        class="form-control"
      />
    </div>

      <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">
        {{ isEditMode ? 'Update Product' : 'Add Product' }}
      </button>
    </form>
  </div>

  <hr />

  <table class="table table-bordered mt-4">
    <thead>
      <tr>
        <th>Product ID</th>
        <th>Product Name</th>
        <th>Product Description</th>
        <th>Product Price</th>
        <th>Product Image</th>
        <th>Actions</th>
        <th>Upload Image</th>
        <th>Category</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.price | currency }}</td>
        <td>
          <button (click)="editProduct(product)" class="btn btn-warning btn-sm">Edit</button>
          <button (click)="deleteProduct(product.id)" class="btn btn-danger btn-sm">Delete</button>
        </td>
        <td>
          <img *ngIf="product.uploadimg" [src]="product.uploadimg" alt="Uploaded Image" width="150" height="150" />
        </td>
        <td>{{product.category}}</td>
      </tr>
    </tbody>
  </table>
</div>