<div class="category-container">
  <h2 class="mb-4">Category Management</h2>

  <form (ngSubmit)="onSubmit()" class="category-form">
    <div class="form-group">
      <label for="name">Category Name</label>
      <input
        id="name"
        type="text"
        [(ngModel)]="name"
        name="name"
        class="form-control"
        required
        placeholder="Enter category name"
      />
    </div>

    <div class="form-group">
      <label for="image">Category Image</label>
      <input
        type="file"
        id="image"
        name="image"
        (change)="onImageSelected($event)"
        class="form-control-file"
      />
      <div *ngIf="imagePreview" class="mt-2">
        <img [src]="imagePreview" alt="Image Preview" class="img-thumbnail" />
      </div>
    </div>

    <button type="submit" class="btn btn-primary btn-block mt-3">
      {{ editIndex !== null ? 'Update Category' : 'Add Category' }}
    </button>
  </form>

  <hr />

  <h3 class="mt-5">Existing Categories</h3>
  <ul class="list-group">
    <li *ngFor="let category of data; let i = index" class="list-group-item d-flex align-items-center">
      <div class="category-item">
        <img [src]="category.imageUrl" alt="Category Image" width="50" height="50" class="rounded-circle mr-3" />
        <span class="category-name">{{ category.name }}</span>
      </div>

      <div class="ml-auto">
        <button (click)="onEdit(i)" class="btn btn-warning btn-sm">Edit</button>
        <button (click)="onDelete(i)" class="btn btn-danger btn-sm ml-2">Delete</button>
      </div>
    </li>
  </ul>
</div>
